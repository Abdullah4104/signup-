<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .wrapper1 {
        display: block;
    }
    @property --angle{
        syntax: "<angle>";
            initial-value: 0deg;
            inherits: false;
    }
    .wrap {
        width: 400px;
        height: 500px;
        border-radius: 20px;
        transform: translate(110%, 12%);
        background-color: rgb(91, 241, 91);
        box-shadow: 0px 0px 80px green inset;
        background-image: conic-gradient(from var(--angle), rgb(130, 233, 156), rgb(38, 188, 68), rgb(130, 233, 156));
        animation: 1s spin linear infinite;
        /* display: flex;
        flex-wrap: wrap; */
    }
    @keyframes spin {
        from{
            --angle:0deg;

        }
        to{
            --angle:360deg
        }
    }

    .txt1 {
        text-align: center;
        font-size: 40px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-weight: 1000;

        color: white;
    }

    input {
        width: 350px;
        border-radius: 5px;
    }

    #inp1 {
        transform: translateX(6%);
    }

    #inp2 {
        transform: translate(6%, 60%);
    }

    #email {
        transform: translate(6%, 120%);
    }

    #pass1 {
        transform: translate(6%, 180%);
    }

    #email2 {
        transform: translate(6%, 120%);
    }

    #pass3 {
        transform: translate(6%, 180%);
    }

    #pass2 {
        transform: translate(6%, 240%);
    }

    .signupBtn {
        background-color: rgb(3, 233, 3);
        height: 40px;
        width: 350px;
        transform: translate(6%, 300%);
        border-radius: 5px;
        border: none;
        font-size: larger;
        color: white;
    }

    .txt2 {
        font-size: 17px;
        position: absolute;
        top: 92%;
        left: 9%;

    }

    .loginBtn {
        background-color: rgb(3, 233, 3);
        height: 40px;
        width: 80px;
        transform: translate(330%, 330%);
        border-radius: 5px;
        border: none;
        font-size: larger;
        color: white;
    }

    button:hover {
        background-color: green;
        color: lightgreen;
    }

    .wrapper2 {
        display: none;
    }

    .wrap2 {
        width: 400px;
        height: 400px;
        border-radius: 20px;
        transform: translate(110%, 12%);
        background-color: rgb(91, 241, 91);
        box-shadow: 0px 0px 80px green inset;
        box-shadow: 0px 0px 80px green inset;
        background-image: conic-gradient(from var(--angle), rgb(130, 233, 156), rgb(38, 188, 68), rgb(130, 233, 156));
        animation: 1s spin linear infinite;
    }

    .txt3 {
        text-align: center;
        font-size: 40px;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        font-weight: 1000;

        color: white;
    }

    .login {
        background-color: rgb(3, 233, 3);
        height: 40px;
        width: 350px;
        transform: translate(6%, 300%);
        border-radius: 5px;
        border: none;
        font-size: larger;
        color: white;
    }

    .txt4 {
        font-size: 17px;
        position: absolute;
        top: 89%;
        left: 9%;

    }

    .signup {
        background-color: rgb(3, 233, 3);
        height: 40px;
        width: 80px;
        transform: translate(330%, 345%);
        border-radius: 5px;
        border: none;
        font-size: larger;
        color: white;
    }

    #enterPage {
        text-align: center;
        color: white;
        font-size: 40px;
    }

    input {
        outline: none;
        border: 2px solid rgb(75, 141, 75);
        cursor: progress;
    }

    button {
        cursor: pointer;
    }
</style>

<body>
    <section id="wrapper1" class="wrapper1">
        <div class="wrap">
            <p class="txt1">Sign Up</p>
            <input style="height: 30px;" placeholder="First name" type="text" id="inp1">
            <input style="height: 30px;" placeholder="Last name" type="text" id="inp2">
            <input style="height: 30px;" placeholder="Email Address" type="email" id="email">
            <input style="height: 30px;" placeholder="Enter Password" type="password" id="pass1">
            <input style="height: 30px;" placeholder="Confirm Password" type="password" id="pass2">
            <button onclick="register()" class="signupBtn">Sign Up</button>
            <span class="txt2">Already have an account </span><button onclick="showLogin()" class="loginBtn">Log
                in</button>
        </div>
    </section>
    <section id="wrapper2" class="wrapper2">
        
        <div class="wrap2">
            <p class="txt3">Log In</p>
            <input style="height: 30px;" placeholder="Email Address" type="email" id="email2">
            <input style="height: 30px;" placeholder="Enter Password" type="password" id="pass3">
            <button onclick="signin()" class="login">Log in</button>
            <span class="txt4">Do not have an account</span><button onclick="showRegister()" class="signup">Sign
                up</button>
        </div>
    </section>
    <div id="enterPage"></div>
</body>
<script>
    let email = document.getElementById('email')
    let pass1 = document.getElementById('pass1')
    let pass3 = document.getElementById('pass3')
    let email2 = document.getElementById('email2')
    let pass2 = document.getElementById('pass2')
    let inp1 = document.getElementById('inp1')
    let inp2 = document.getElementById('inp2')
    let obj;
    let arr = [];
    let wrapper1 = document.getElementById('wrapper1')
    let wrapper2 = document.getElementById('wrapper2')
    let enterPage = document.getElementById('enterPage')

    function register() {
        registration();
    }
    function registration() {


        let i = arr.findIndex((userDetails) => userDetails.EmailAddress === email.value.trim())
        if (email.value == "" || inp1.value == "" || inp2.value == "" || pass1 == '' || pass2 == '') {
            alert('Fill all fields')

        } else if (pass1.value != pass2.value) {
            alert('Password does not match')

        } else if ((pass1.value.length) < 8) {
            alert('Password must be atleast 8 characters')
        }
        else if (i != -1) {
            alert('User exists already')
        } else {
            obj = {
                FirstName: inp1.value.trim(),
                LastName: inp2.value.trim(),
                Password: pass1.value.trim(),
                EmailAddress: email.value.trim()
            }
            arr.push(obj)

            console.log(arr);
            localStorage.setItem("UserInput", JSON.stringify(arr))
            wrapper1.style.display = 'none'
            wrapper2.style.display = "block";

        }

    }

    function showLogin() {
        wrapper1.style.display = 'none'
        wrapper2.style.display = "block";
        localStorage.setItem("UserInput", JSON.stringify(arr))


    }
    function showRegister() {
        wrapper1.style.display = 'block'
        wrapper2.style.display = "none";
        localStorage.setItem("UserInput", JSON.stringify(arr))
    }

    function signin() {
        let index = arr.findIndex((userDetails) => userDetails.Password === pass3.value.trim() && userDetails.EmailAddress === email2.value.trim())
        if (index != -1) {
            wrapper2.style.display = 'none'
            wrapper1.style.display = "none";

            enterPage.innerHTML = 'Welcome ðŸŽƒðŸ˜…ðŸ˜¤ðŸ¤ªðŸ¥´, so the code is working ðŸ˜‚ðŸ˜‚'
            enterPage.style.display = 'block'
            const randomColor = () => {
                let hexCode = '123456789ABCDEF';
                let hashColor = '#';

                for (let i = 0; i < 6; i++) {
                    hashColor += hexCode[Math.floor(Math.random() * 16)]
                }
                return hashColor
            };
            setInterval(() => {
                document.body.style.backgroundColor = randomColor()
            }, 1000);
        } else if (email2.value == '' || pass3.value == '') {
            alert('Fill all fields')
        }
        else {
            alert('Incorrect password or E-mail Address')
        }
    }
    window.onload = function () {
        let storedArr = JSON.parse(localStorage.getItem('UserInput'))
        arr = storedArr;
        // registration();
    }

    document.body.style.backgroundColor = 'lightgreen'
</script>

</html>